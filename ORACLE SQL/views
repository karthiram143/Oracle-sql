    -- View: 
view is a logical/virtual table that does not physically exist in the database and stored in oracle data dictionary
view stores sql statement/queries in the database
it will not hold any data of its own instead it will retrieves/fetch the data form the base table whenever it is required
a view will looks and acts like a table
no data is stored in the view
-- Advantages:
to make complex query to look simpleview used to increase the security 
-- TYPE:
Simple view
complex view
-- syn:
CREATE (OR REPLACE) VIEW view_name as
SELECT select_query;
        -- simple view:( here just create the view )
If a view is created based on single table
it should not have any group function aggregate function etc.
it should not contain DISTINCT keyword or any pseudo columns expression on the based columns
DML are allowed

-- ex
CREATE VIEW emp_view_5 as
SELECT FIRST_NAME ,SALARY FROM EMPLOYEE;
-- after create view to query the view
SELECT * FROM emp_view_5
-- RESULT:
FIRST_NAME	SALARY
John	55000

SELECT * FROM USER_VIEWS -- WHILE USING TO CHECK ENTIRE ALL THE VIEW ARE THERE

-- if you want to update the view using REPLACE
CREATE  OR REPLACE VIEW emp_view_5 as
SELECT FIRST_NAME ,SALARY FROM EMPLOYEE WHERE DEPARTMENT_ID=10;
-- if you want to update the records is can
UPDATE emp_view_5
SET FIRST_NAME='KARTHIKEYAN' 
WHERE SALARY='55000' AND FIRST_NAME='John'
-- RESULT:
FIRST_NAME	SALARY
KARTHIKEYAN	55000
Robert	48000
James	47000
KARTHIKEYAN	55000

-- Complex View:
 If the SELECT clause has any DISTINCT keywords , aggregate function,analytical function 
 if the SELECT clause uses set opeators (ef:UNION)
If the SELECT clause use subqueries, join, functionsus the GROUP BY, HAVING,ORDER BY,START WITH clause
Contain pseudo columns or expression
if the query uses the data dictionary table
-- SYN:
CREATE (OR REPLACE) VIEW view_name AS
SELECT select_query;
-- ex:
CREATE OR REPLACE VIEW emp_sal_1 as
SELECT 
D.department_id ,d.department_name ,SUM(e.salary) total_salary 
FROM DEPRATMENT d inner join employee e on D.department_id=e.department_id 
group by D.department_id,D.department_name;

-- for this view not possible to do the DML opeation becuase of SUM(aggreate function)

-- 2. example
CREATE OR REPLACE VIEW emp_sal_1 as
SELECT 
D.department_id ,d.department_name ,salary
FROM DEPRATMENT d inner join employee e on D.department_id=e.department_id;

-- for this view not possible to do the DML opeation becuase of JOIN
INSERT INTO emp_sal_1 VALUE (10,'KARTHI',800); --NOT
--  3. EXAMPLE:
CREATE OR REPLACE DISTINCT_VIEW AS 
SELECT DISTINCT DEPRTMENT FROM T3;

-- for this view not possible to do the DML opeation becuase of DISTINCT
INSERT INTO emp_sal_1 VALUE (10,'KARTHI',800); --NOT

                   --1.VIEW WITH READ ONLY ( not allow DML)
Used to restrict insert and update performed through the view
only select statement is allowed against the views
-- SYN:
CREATE (OR REPLACE) VIEW view_name AS 
SELECT SELCT QUERY WITH READ ONLY;
-- EX:
CREATE OR REPLACE VIEW read_view AS
SELECT * FROM EMPLOYEE WITH READ ONLY

-- Ex:
INSERT INTO EMPLOYEE VALUES (1,10)
-- while enter add some insert or update is not allow (DML operation) in view , but in table wise is possible


-- View with check option
 WHERE clause is mandatory for check option
 used to allow DML operation based on the check condition  through the view
--  SYN:
CREATE (OR REPLACE) VIEW view_name AS 
SELECT select_query WITH CHECK OPTION;

-- EX:
CREATE VIEW VIEW_CHECK AS 
SELECT * FROM TEST_1 WHERE A IN(1,2) WITH CHECK OPTION; -- FOR BOTH CONDTION ONLY IT ALLOW THE dml OPEARTION                   
--  i am trying to insert
insert into VIEW_CHECK values (1,'d') -- it allow
insert into VIEW_CHECK values (3,'D') --it NOT

                -- Force View:
Creating a view Without having base table
-- syn:
CREATE (OR REPLACE ) FORCE VIEW view_name AS SELECT SELECT_QUERY;

-- For this table there is no table
SELECT * FROM MENU; — is not available

Create view dummy_view as Select * from menu;-- not created
create force view dummy_view as Select * from menu;-- here we are using force is created

—if you want to use the view over all
select * from user_objects where object_type='view'and object_name ='DUMMY_VIEW'; -- it status has been invalid
-- after creating table, the need to compile it  then change into valid

         
        -- compile/ Re-compile view
 used to change the view status from INVALID TO VALID
-- syn:
Alter view view_name COMPILE;

-- Checking before
SELECT * FROM USER_OBJECTS where 
OBJECT_TYPE='VIEW' AND OBJECT_NAME =UPPER('ccom_view');
-- while delete the one column
-- to drop the column in the table 
alter table menu drop menu_name ;
-- need to create a same column that point of time I crate the column that point of time also status as been invalid
-- after checking the view status is invalid status so for this case use the compile the view

1.ALTER VIEW com_view compile;
or 
2.CREATE OR REPLACE VIEW COM_VIEW AS
SELECT * FROM MENU;
OR
3.SELECT * FROM com_view;
